!function(e){function t(t){for(var a,o,u=t[0],c=t[1],i=t[2],f=0,d=[];f<u.length;f++)o=u[f],Object.prototype.hasOwnProperty.call(l,o)&&l[o]&&d.push(l[o][0]),l[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(s&&s(t);d.length;)d.shift()();return r.push.apply(r,i||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,u=1;u<n.length;u++){var c=n[u];0!==l[c]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},l={0:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var s=c;r.push([9,1]),n()}({14:function(e,t,n){"use strict";var a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,l=0,r=t.length;l<r;l++)!a&&l in t||(a||(a=Array.prototype.slice.call(t,0,l)),a[l]=t[l]);return e.concat(a||Array.prototype.slice.call(t))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.groupedOptions=t.lepelskiyUezd=void 0;var r=l(n(0)),o=n(15),u=n(41),c=n(42),i=n(43),s="u",f="v",d="o",p="c",m="q",v="m",h=n(44)("Y3QW01D5EI","a41c884435907e9235c30c6b5018d214").initIndex("uezdy");t.lepelskiyUezd=[{value:"nizgolovo",label:"Низголовская Иоанно-Предчетинская церковь"},{value:"usaya",label:"Усайская Покрова Пресвятой Богородицы церковь"},{value:"hotino",label:"Хотинская Святого Иосифа Обручника церковь"}],t.groupedOptions=[{label:"Уезды",options:t.lepelskiyUezd}];t.default=function(){var e=r.default.useState(!1),t=e[0],n=e[1],l=r.default.useState(""),b=l[0],y=l[1],E=r.default.useState({}),g=(E[0],E[1]),T=r.default.useState({}),_=T[0],k=T[1],S=r.default.useState([]),w=S[0],O=S[1],j=r.default.useState({}),P=j[0],R=j[1],M=r.default.useState([]),C=M[0],I=M[1],N=r.default.useState({}),D=N[0],z=N[1],H=r.default.useState({}),L=H[0],x=H[1],B=r.default.useState([]),A=B[0],F=B[1],V=r.default.useState([]),U=V[0],Z=V[1],q=r.default.useState([]),J=q[0],Q=q[1],W=r.default.useState(),Y=W[0],G=W[1];r.default.useEffect((function(){h.search("",{hitsPerPage:0,facets:["*"]}).then((function(e){var t=e.facets;g(t);var a=new i.HashRoute(window.location.href);O(a.take(s).split(i.SPLITTER).filter((function(e){return e}))),I(a.take(f).split(i.SPLITTER).filter((function(e){return e}))),F(a.take(d).split(i.SPLITTER).filter((function(e){return e}))),Z(a.take(p).split(i.SPLITTER).filter((function(e){return e}))),n(!!a.take(v)),y(a.take(m)),G(a)}))}),[]),r.default.useEffect((function(){Y&&Y.add(s,w.join(i.SPLITTER)),h.search(b,{facets:["*"],facetFilters:[a([],w.map((function(e){return"uezd:".concat(e)})),!0),a([],C.map((function(e){return"volost:".concat(e)})),!0),a([],A.map((function(e){return"ownerTitle:".concat(e)})),!0),a([],U.map((function(e){return"prikhodTitle:".concat(e)})),!0)]}).then((function(e){var t=e.hits,n=e.facets;Q(t),R(n.volost),z(n.ownerTitle),x(n.prikhodTitle)}))}),[w]),r.default.useEffect((function(){Y&&Y.add(f,C.join(i.SPLITTER)),h.search(b,{facets:["*"],facetFilters:[a([],w.map((function(e){return"uezd:".concat(e)})),!0),a([],C.map((function(e){return"volost:".concat(e)})),!0),a([],A.map((function(e){return"ownerTitle:".concat(e)})),!0),a([],U.map((function(e){return"prikhodTitle:".concat(e)})),!0)]}).then((function(e){var t=e.hits,n=e.facets;Q(t),k(n.uezd),z(n.ownerTitle),x(n.prikhodTitle)}))}),[C]),r.default.useEffect((function(){Y&&Y.add(d,A.join(i.SPLITTER)),h.search(b,{facets:["*"],facetFilters:[a([],w.map((function(e){return"uezd:".concat(e)})),!0),a([],C.map((function(e){return"volost:".concat(e)})),!0),a([],A.map((function(e){return"ownerTitle:".concat(e)})),!0),a([],U.map((function(e){return"prikhodTitle:".concat(e)})),!0)]}).then((function(e){var t=e.hits,n=e.facets;Q(t),k(n.uezd),R(n.volost)}))}),[A]),r.default.useEffect((function(){Y&&Y.add(p,U.join(i.SPLITTER)),h.search(b,{facets:["*"],facetFilters:[a([],w.map((function(e){return"uezd:".concat(e)})),!0),a([],C.map((function(e){return"volost:".concat(e)})),!0),a([],A.map((function(e){return"ownerTitle:".concat(e)})),!0),a([],U.map((function(e){return"prikhodTitle:".concat(e)})),!0)]}).then((function(e){var t=e.hits,n=e.facets;Q(t),k(n.uezd),R(n.volost),z(n.ownerTitle)}))}),[U]),r.default.useEffect((function(){Y&&Y.add(m,b),h.search(b,{facets:["*"],facetFilters:[a([],w.map((function(e){return"uezd:".concat(e)})),!0),a([],C.map((function(e){return"volost:".concat(e)})),!0),a([],A.map((function(e){return"ownerTitle:".concat(e)})),!0),a([],U.map((function(e){return"prikhodTitle:".concat(e)})),!0)]}).then((function(e){var t=e.hits,n=e.facets;Q(t),k(n.uezd),R(n.volost),z(n.ownerTitle),x(n.prikhodTitle)}))}),[b]);return r.default.createElement("div",null,r.default.createElement(o.DropDownComponent,{placeholder:"Уезд",items:_?Object.keys(_).map((function(e){return{value:e,label:e}})):[],changeHandler:function(e){return O(e.map((function(e){return e.value})))},defaultValue:w}),r.default.createElement(o.DropDownComponent,{placeholder:"Волость",items:P?Object.keys(P).map((function(e){return{value:e,label:e}})):[],changeHandler:function(e){return I(e.map((function(e){return e.value})))},defaultValue:C}),r.default.createElement(o.DropDownComponent,{placeholder:"Владелец",items:D?Object.keys(D).map((function(e){return{value:e,label:e}})):[],changeHandler:function(e){return F(e.map((function(e){return e.value})))},defaultValue:A}),r.default.createElement(o.DropDownComponent,{placeholder:"Церковь",items:L?Object.keys(L).map((function(e){return{value:e,label:e}})):[],changeHandler:function(e){return Z(e.map((function(e){return e.value})))},defaultValue:U}),r.default.createElement("input",{autoFocus:!0,onChange:function(e){var t=e.target;y(t.value)},type:"text",value:b,id:"input",placeholder:"деревня, село, имение"}),r.default.createElement("ul",{className:"nav nav-tabs"},r.default.createElement("li",{className:"nav-item"},r.default.createElement("a",{className:t?"nav-link":"nav-link active",onClick:function(){Y&&Y.add(v,""),n(!1)},"aria-current":"page",href:"#"},"Таблица результатов")),r.default.createElement("li",{className:"nav-item"},r.default.createElement("a",{className:t?"nav-link active":"nav-link",onClick:function(){n(!0),Y&&Y.add(v,"1")},"aria-current":"page",href:"#"},"Карта результатов"))),t?r.default.createElement(c.MapResults,{hits:J}):r.default.createElement(u.TableResults,{hits:J}))}},15:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DropDownComponent=void 0;var r=l(n(0)),o=l(n(45));t.DropDownComponent=function(e){var t=e.items,n=e.changeHandler,l=e.placeholder,u=void 0===l?"":l,c=e.defaultValue,i=void 0===c?[]:c;if(!t.length)return r.default.createElement("div",{style:{height:"36px"}});var s=i.length?{defaultValue:t.filter((function(e){return~i.indexOf(e.value)}))}:{};return r.default.createElement(o.default,a({},s,{isMulti:!0,name:"colors",options:t,className:"basic-multi-select",classNamePrefix:"select",placeholder:u,onChange:n}))}},41:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TableResults=void 0;var l=a(n(0));t.TableResults=function(e){var t=e.hits;return l.default.createElement("table",{className:"table table-striped"},l.default.createElement("thead",{className:"desktop-version"},l.default.createElement("tr",null,l.default.createElement("td",null,"тип"),l.default.createElement("td",null,"н.п."),l.default.createElement("td",null,"Волость"),l.default.createElement("td",null,"Уезд"),l.default.createElement("td",null,"Владелец"),l.default.createElement("td",null,"Церковь"))),l.default.createElement("tbody",null,t.map((function(e,t){var n,a,r,o,u=e._highlightResult,c=e.npTitle,i=e.ownerTitle,s=e.uezd,f=e.volost,d=e.npType,p=e.prikhodTitle,m="".concat(c,",").concat(d,";;").concat(f,";").concat(s);return l.default.createElement("tr",{key:t},l.default.createElement("td",null,l.default.createElement("span",null,l.default.createElement("a",{onClick:function(){try{navigator.clipboard.writeText(m)}catch(e){console.error("Failed to copy: ",e)}},href:"#"},d?"".concat(d," "):"")),l.default.createElement("span",{className:"mobile-version",dangerouslySetInnerHTML:{__html:(null===(n=null==u?void 0:u.npTitle)||void 0===n?void 0:n.value)||c}})),l.default.createElement("td",{className:"desktop-version",dangerouslySetInnerHTML:{__html:(null===(a=null==u?void 0:u.npTitle)||void 0===a?void 0:a.value)||c}}),l.default.createElement("td",null,l.default.createElement("span",null,f),l.default.createElement("span",{className:"mobile-version"}," вол. "),l.default.createElement("span",{className:"mobile-version"},s),l.default.createElement("span",{className:"mobile-version"}," у.")),l.default.createElement("td",{className:"desktop-version"},s),l.default.createElement("td",{className:"mobile-version"},l.default.createElement("i",{className:"mobile-version"},"Принад.: "),l.default.createElement("span",{className:"mobile-version",dangerouslySetInnerHTML:{__html:(null===(r=null==u?void 0:u.ownerTitle)||void 0===r?void 0:r.value)||i}})),l.default.createElement("td",{className:"desktop-version",dangerouslySetInnerHTML:{__html:(null===(o=null==u?void 0:u.ownerTitle)||void 0===o?void 0:o.value)||i}}),l.default.createElement("td",null,l.default.createElement("i",{className:"mobile-version"},"цер/кост: "),l.default.createElement("span",null,p)))}))))}},42:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MapResults=void 0;var l=a(n(0));t.MapResults=function(e){var t=e.hits,n=l.default.useRef(null),a=l.default.useState(0),r=a[0],o=a[1],u=l.default.useState(),c=u[0],i=u[1],s=l.default.useState(!1),f=s[0],d=s[1],p=l.default.useState(0),m=p[0],v=p[1];return l.default.useEffect((function(){return o(window.innerHeight-document.querySelector(".nav.nav-tabs").getBoundingClientRect().height-document.getElementById("root").getBoundingClientRect().height),ymaps.ready((function(){d(!0),i(new ymaps.Map(n.current,{zoom:9,center:[54.33888889,29.401],controls:["rulerControl","typeSelector","zoomControl","fullscreenControl"]}))})),function(){d(!1),c&&c.destroy()}}),[]),l.default.useEffect((function(){if(f&&c&&m){var e=c.geoObjects.getBounds();e&&c.setBounds(e,{checkZoomRange:!0}).then((function(){c.getZoom()>15&&c.setZoom(13)}))}}),[f,m]),l.default.useEffect((function(){if(f&&c){var e=new ymaps.Clusterer({preset:"islands#invertedVioletClusterIcons",clusterHideIconOnBalloonOpen:!1,geoObjectHideIconOnBalloonOpen:!1}),n=t.filter((function(e){var t=e._geoloc;return t.lat&&t.lng})).map((function(e){var t,n,a=e||{},l=a.prikhodTitle,r=a.ownerTitle,o=e._geoloc||{},u=o.lat,c=o.lng;return new ymaps.Placemark([u,c],{hintContent:"<b>".concat(e.npTitle,"</b>"),balloonContentHeader:"".concat(e.npType," ").concat(e.npTitle),balloonContent:"\nВладелец: ".concat(r,":<br>\nЦерковь: ").concat(l,":<br>\n"),iconContent:"".concat((null===(n=null===(t=null==e?void 0:e._highlightResult)||void 0===t?void 0:t.npTitle)||void 0===n?void 0:n.value)||e.npTitle)},{preset:"islands#blueStretchyIcon",iconColor:"#3caa3c"})}));return e.add(n),c.geoObjects.add(e),v(n.length),function(){c&&c.geoObjects&&c.geoObjects.removeAll&&c.geoObjects.removeAll()}}}),[t,f,c]),l.default.createElement("div",{style:{position:"relative"}},l.default.createElement("span",{id:"map",ref:n,style:{height:r+"px"}}))}},43:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HashRoute=t.SPLITTER=void 0,t.SPLITTER="-|";var a=function(){function e(e){this.url=new URL(e)}return e.prototype.add=function(e,t){t?this.url.searchParams.set(e,t):this.url.searchParams.delete(e),this.updateAll()},e.prototype.take=function(e){return this.url.searchParams.get(e)||""},e.prototype.updateAll=function(){history.pushState({},"",this.url)},e}();t.HashRoute=a},9:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(2)),r=a(n(0)),o=a(n(14)),u=document.getElementById("root");l.default.render(r.default.createElement(o.default,null),u)}});